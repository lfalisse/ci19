<!DOCTYPE html>
<html>
<head>
	<title></title>
<style>
body{
	font-family: 'Funktional Grotesk TRIAL';
	font-weight: normal;
	font-style: normal;
}
#text{
	display: grid;
	width: 72%;
    margin: 0 auto;
	grid-auto-flow: column;
	margin-top: 10%;
}
#years{
}
 #months{

 } 
 #locations{

 } 
 #largeloc{

 } 
 #awareness{

 } 
 #subjects{
 	text-align: right;
 }
</style>
</head>
<body>
<div id=text>
	<div id=months></div>
	<div id=years></div>
	<div id=locations></div>
	<div id=largeloc></div>
	<div id=awareness></div>
	<div id=subjects></div>
</div>
<script>
var url = "https://raw.githubusercontent.com/lfalisse/ci19/master/studio/collection/mydata.json";

fetch(url)
	.then(function(response){return response.json();})	
	.then(function(json){buildPage(json);})


var urlParams = new URLSearchParams(location.search);

urlParams.has('type');  // true
urlParams.get('id');    // 1234
urlParams.getAll('id'); // ["1234"]
urlParams.toString();   // type=product&id=1234

// console.log(urlParams.toString('month'))
console.log(urlParams.get('year'))
console.log('"'+urlParams.get('month')+'"')

function buildPage(data) {
	var array = data;

	// console.log(array);
	
	var arr = array.filter(function(el){ return el.year == urlParams.get('year') && el.month == urlParams.get('month') ;});

	console.log(arr);

	for(var i = 0; i < arr.length; i = i + 1){
		var month = document.createElement("p");
		var year = document.createElement("p");
		var largeloc = document.createElement("p");
		var loc = document.createElement("p");
		var aware = document.createElement("p");
		var subjamt = document.createElement("p");
		document.getElementById("years").appendChild(year);
		document.getElementById("months").appendChild(month);
		document.getElementById("largeloc").appendChild(largeloc);
		document.getElementById("locations").appendChild(loc);
		document.getElementById("awareness").appendChild(aware);
		document.getElementById("subjects").appendChild(subjamt);
		month.innerHTML = arr[i].month;
		year.innerHTML = arr[i].year;
		largeloc.innerHTML = arr[i].largeloc;
		aware.innerHTML = arr[i].awareness;
		subjamt.innerHTML = arr[i].subjectamt;
		loc.innerHTML = arr[i].location;
	}
}

</script>
</body>
</html>